## IP

IP地址，连接在Internet的每个主机或路由器都分配有32bit的全球唯一的标识符。 IP地址的编码方式分为三种，分类的IP地址，子网的划分和CIDR。

IP地址是分类的地址，分为A,B,C,D,E五类，都有网络号和主机号组成。 其中特殊的ip地址：

* 127.0.0.1 表示任意主机本身
* 255.255.255.255 表示TCP/IP网络的广播地址

### NAT

NAT, 网络地址转换（Network Address Translation）。专有网络中的主机如果想和因特网的主机通信，需要在专有网的路由器上装有NAT
路由器，NAT路由器把本地IP地址转换成全球IP地址。

私有IP地址：

* 10.0.0.0 - 10.255.255.255
* 172.16.0.0 - 172.31.255.255
* 192.168.0.0 - 192.168.255.255

注意，因特网所有撸起对目的地址是私有地址的数据报一律不进行转发。


## 子网掩码

* A类掩码：255.0.0.0， 8位网络号+ 子网x位 + 主机24-X位
* B类掩码：255.255.0.0， 16位网络号+ 子网x位 + 主16-X位
* C类掩码：255.255.255.0， 24位网络号+ 子网x位 + 主机8-X位


### ARP

ARP, 地址解析协议（Address Resolution Protocol）。 实际数据链路上传输网络数据时，最终必须使用硬件地址，IP地址到MAC地址的映射。
每台主机或路由器都有一张ARP表，IP地址到MAC地址的映射表。主机和路由器使用ARP协议动态维护此APR表。

RARP, 反转地址解析协议(Reverse Address Resolution Protocol)。 作用是物理地址转IP地址。

### ICMP

ICMP，网际控制报文协议(Internet Control Message Protocol)。 网络层使用ICMP使得主机或路由器可以报告差错和异常情况。

注意，**PING命令在应用层，但是使用的是网络层的ICMP协议**，而不是使用传输层的TCP/UDP协议。


### IPV6

IPV6由**128**bit构成，通常使用冒号16进制表示，如 68E6:8C64:FFFF:FFFF:0:1180:960A:FFFF,允许使用0压缩，即一连串连续0可以使用一对冒号代替。

0:0:0:0:0:0:128.17.32.1 =》 ::118.17.32.1

IPV4和IPV6的区别：

* 更大的地址空间
* 增加了安全性，身份验证和保密验证
* ...


## 问题

* 浏览器输入www.baidu.com，会涉及哪些协议？

	* 浏览器解析出**域名**路径和资源路径
	* 浏览器通过**DNS协议**解析出域名对应的IP地址，其中查找顺序是系统缓存,host文件，或者通过向本地域名服务器->根域名服务器->com域名服务器->baidu.com域名服务器的迭代过程。
	* 客户端传输层，把HTTP会话请求分成报文段，调价源和目的端口。 客户端和服务端建立**TCP连接**，TCP封装数据包，下发到网络层
	* 客户端网络层主要通过查找**路由表**（路由查找）确定服务达到服务器。
	* 客户端链路层，包通过链路层发送到路由器，通过邻居协议查找IP地址的MAC地址，然后发送**ARP**请求查找目的地址。
	* 服务端收到客户端请求，回发请求的资源给客户端
	* 浏览器解析请求的资源，正确渲染内容显示。
	* 客户端关闭连接
---
1. [IP地址，子网掩码，默认网关，DNS服务器详解](http://www.cnblogs.com/JuneWang/p/3917697.html)